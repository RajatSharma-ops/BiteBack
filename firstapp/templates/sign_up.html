<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up / Log In</title>

    <!-- Poppins Font -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900" rel="stylesheet" />

    <!-- Unicons Icons -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />

    <!-- Local CSS -->
    <link rel="stylesheet" href="/static/css/sign_up.css"/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body
    style="margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; background-color: #1f2029;">

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert" style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%); z-index: 9999; width: 80%;">
          {{ messages[0] }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endif %}
    {% endwith %}

    <!-- Main Section -->
    <div class="section" style="width: 100%;">
        <div class="container">
            <div class="row full-height justify-content-center">
                <div class="col-12 text-center align-self-center py-5">
                    <div class="section pb-5 pt-5 pt-sm-2 text-center">

                        <h6 class="mb-0 pb-3">
                            <span id="login-tab" style="cursor:pointer; color:#fff; margin-right:20px;">Log In</span>
                            <span id="signup-tab" style="cursor:pointer; color:#fff;">Sign Up</span>
                        </h6>
                        <input class="checkbox" type="checkbox" id="reg-log" name="reg-log" />
                        <label for="reg-log"></label>

                        <div class="card-3d-wrap mx-auto">
                            <div class="card-3d-wrapper">

                                <!-- Log In -->
                                <div class="card-front">
                                    <div class="center-wrap">
                                        <form class="section text-center" method="POST" action="/login">
                                            <h4 class="mb-4 pb-3">Log In</h4>
                                            <div class="form-group">
                                                <input type="email" name="U_email" class="form-style"
                                                    placeholder="Your Email" autocomplete="on">
                                                <i class="input-icon uil uil-at"></i>
                                            </div>
                                            <div class="form-group mt-2">
                                                <input type="password" name="password" class="form-style"
                                                    placeholder="Your Password" autocomplete="off">
                                                <i class="input-icon uil uil-lock-alt"></i>
                                            </div>
                                            <button type="submit" class="btn mt-4">submit</button>
                                        </form>
                                    </div>
                                </div>

                                <!-- Sign Up -->
                                <div class="card-back">
                                    <div class="center-wrap">
                                        <form class="section text-center" method="POST" action="/sign_up">
                                            <h4 class="mb-4 pb-3">Sign Up</h4>
                                            <div class="form-group">
                                                <input type="text" name="U_name" class="form-style"
                                                    placeholder="Your Full Name" autocomplete="off">
                                                <i class="input-icon uil uil-user"></i>
                                            </div>
                                            <div class="form-group mt-2">
                                                <input type="email" name="U_email" class="form-style"
                                                    placeholder="Your Email" autocomplete="off">
                                                <i class="input-icon uil uil-at"></i>
                                            </div>
                                            <div class="form-group mt-2">
                                                <input type="password" name="password" class="form-style"
                                                    placeholder="Your Password" autocomplete="off">
                                                <i class="input-icon uil uil-lock-alt"></i>
                                            </div>
                                            <button type="submit" class="btn mt-4">submit</button>
                                        </form>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>

<script>
    const checkbox = document.getElementById('reg-log');
    const loginTab = document.getElementById('login-tab');
    const signupTab = document.getElementById('signup-tab');

    loginTab.addEventListener('click', () => {
        checkbox.checked = false;  // Show login side
    });

    signupTab.addEventListener('click', () => {
        checkbox.checked = true;   // Show signup side
    });
</script>